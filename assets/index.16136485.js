import{f as c,u as it,s as lt,g as rt,r as g,i as m,c as ut,F as z,a as i,w as u,v as x,j as o,p as ct,l as dt,o as b,m as l,t as pt}from"./vendor.97edad25.js";import{C as I,a as w,N as vt,b as yt,G as _t}from"./cellar.5e9ee242.js";import{a as bt,W as L,J as G}from"./web3-provider.4d5b6c48.js";var ht="./assets/qrcode.8b82ac06.jpg",ft=[{inputs:[{internalType:"address",name:"rAddr",type:"address"},{internalType:"address",name:"gAddr",type:"address"},{internalType:"address",name:"aAddr",type:"address"},{internalType:"address",name:"cAddr",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256",name:"class",type:"uint256"},{internalType:"uint32",name:"_str",type:"uint32"},{internalType:"uint32",name:"_dex",type:"uint32"},{internalType:"uint32",name:"_const",type:"uint32"},{internalType:"uint32",name:"_int",type:"uint32"},{internalType:"uint32",name:"_wis",type:"uint32"},{internalType:"uint32",name:"_cha",type:"uint32"}],name:"pointBuy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseStrength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseDexterity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseConstitution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseIntelligence",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseWisdom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"increaseCharisma",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"adventure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"attackCellar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"levelUp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"approveBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"adventureAndAttackDungeon",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"levelUpAndClaim",outputs:[],stateMutability:"nonpayable",type:"function"}];var P={};ct("data-v-072a92f3");const mt={class:"container"},wt=o("div",null," \u6CE8\u610F: rarity-game.netlify.app \u4E0D\u517C\u5BB9, \u56E0\u4E3A\u5BF9\u65B9\u7684\u4EE3\u7801\u8BBE\u8BA1\u95EE\u9898\uFF0C\u4F1A\u5BFC\u81F4\u6388\u6743\u540E\u65E0\u6CD5\u67E5\u770B ",-1),gt=o("div",null," \u7ECF\u8FC7\u6D4B\u8BD5\u53EF\u4EE5\u517C\u5BB9 UI\u7248 https://rarity-adventures.surge.sh/ \u4E0E https://www.raritymanifested.com/profile ",-1),Ct=o("div",null," \u672C\u8F6F\u4EF6\u4E3A\u4E13\u4E1A\u8F6F\u4EF6,\u4F7F\u7528\u4E4B\u524D\u786E\u4FDD\u81EA\u5DF1\u6709\u4E00\u5B9A\u667A\u80FD\u5408\u7EA6\u77E5\u8BC6 ",-1),Tt={key:0,class:"module-approve"},xt=o("p",null,"\u8BF7\u6388\u6743 Rarity \u5408\u7EA6\u540E\u8054\u7CFB\u5927\u806A\u660E\u5BA2\u670D\uFF0C\u5F00\u542F\u8EBA\u8D62\u6A21\u5F0F",-1),It=l(" Approve "),At={key:1},kt=o("p",null,"\u5DF2\u7ECF\u5B8C\u6210\u6388\u6743",-1),St=l(" Approved "),Nt=l("Cancel Approve"),Mt={key:1,class:"module-log"},Ot=o("h4",{style:{"text-decoration":"underline"}},"\u{1F449}\u89E3\u653E\u53CC\u624B\uFF0C\u544A\u522B\u95F9\u949F\uFF0C\u6258\u7BA1\u8BF7\u6DFB\u52A0\u5BA2\u670D\u59B9\u59B9\u5FAE\u4FE1\u{1F448}",-1),Bt=o("img",{width:"300",alt:"wechat qrcode",src:ht},null,-1),$t={class:"action-group"},jt={style:{"text-decoration":"none"},href:"https://t.me/gamefichat",target:"_blank"},Ut=l(" \u{1F50A}\u5927\u806A\u660E\u793E\u533A "),Dt={style:{"text-decoration":"none"},href:"https://t.me/gamefiweathy",target:"_blank"},Jt=l(" \u{1F50A}\u5927\u806A\u660E\u9891\u9053 "),Ft=o("h4",null,"\u6279\u91CF\u64CD\u4F5C\uFF0C\u5355\u6B21\u5EFA\u8BAE\u4E0D\u8D85\u8FC730\u4E2A\u3002\u5426\u5219\u533A\u5757\u6253\u5305\u7F13\u6162",-1),Ht={class:"action-group"},Rt=l("\u6279\u91CF\u6388\u6743 (\u52A0\u70B9/\u9886\u91D1\u9700\u8981)"),Et=l("\u6279\u91CF\u5192\u9669"),Lt=l("\u6279\u91CF\u5730\u7262"),Gt=l("\u6279\u91CF\u5347\u7EA7"),Wt=l("\u6279\u91CF\u9886\u91D1"),qt={class:"action-group"},zt=l("\u6279\u91CF\u52A0\u70B9"),Pt=l(' 1. Barbarian "\u91CE\u86EE\u4EBA" '),Vt=o("br",null,null,-1),Kt=l(' 2. Bard "\u8BD7\u4EBA" '),Qt=o("br",null,null,-1),Xt=l(' 3. Cleric "\u7267\u5E08" '),Yt=o("br",null,null,-1),Zt=l(' 4. Druid "\u5FB7\u9C81\u4F0A" '),te=o("br",null,null,-1),ee=l(' 5. Fighter "\u6218\u58EB" '),ae=o("br",null,null,-1),ne=l(' 6. Monk "\u50E7\u4FA3" '),se=o("br",null,null,-1),oe=l(' 7. Paladin "\u5723\u9A91\u58EB" '),ie=o("br",null,null,-1),le=l(' 8. Ranger "\u6E38\u4FA0" '),re=o("br",null,null,-1),ue=l(' 9. Rogue "\u76D7\u8D3C" '),ce=o("br",null,null,-1),de=l(' 10. Sorcerer "\u5DEB\u5E08" '),pe=o("br",null,null,-1),ve=l(' 11. Wizard "\u6CD5\u5E08" '),ye=o("br",null,null,-1),_e={class:"action-group"},be=l("\u8F6C\u6750\u6599\u{1F356}"),he=l("\u8F6C\u91D1\u5E01\u{1F4B0}");dt();const V={props:{address:String,nftContract:Object,provider:Object},setup(A){const C=A,k=c(""),S=c(""),N=c(""),M=c(""),O=c(""),B=c(""),$=c(""),j=c(""),U=c(""),s=c(""),a=c(!1),T=c(!1),D=c(),J=c(),F=c(),H=c(),h=c({account:!1,approve:!1,action:!1}),y=it();lt(()=>C.address,e=>{R()}),rt(()=>{C.address&&R()});const R=async()=>{const e=await C.provider.getSigner();D.value=new I(w.NFT,vt,e);try{h.value.approve=!0;const t=await D.value.isApprovedForAll(C.address,w.BATCH);T.value=t,h.value.approve=!1}catch(t){y.error(t.toString())}},f=async()=>{const t=await(window.ethereum?new L(window.ethereum):new G("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161")).getSigner();return J.value||(J.value=new I(w.BATCH,ft,t)),J.value},K=async()=>{const t=await(window.ethereum?new L(window.ethereum):new G("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161")).getSigner();return F.value||(F.value=new I(w.CELLAR,yt,t)),F.value},Q=async()=>{const t=await(window.ethereum?new L(window.ethereum):new G("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161")).getSigner();return H.value||(H.value=new I(w.GOLD,_t,t)),H.value},_=()=>{const e=k.value.split(`
`).map(t=>t.toString());if(e.every(t=>!isNaN(parseInt(t))))return e;throw new Error("\u82F1\u96C4ID\u4E0D\u6B63\u786E")},X=()=>{const e=[N.value,M.value,O.value,B.value,$.value,j.value];if(e.every(t=>!isNaN(parseInt(t))))return e;throw new Error("\u5C5E\u6027\u4E0D\u6B63\u786E")},W=()=>{const e=S.value;if(isNaN(parseInt(e)))throw new Error("\u5C5E\u6027\u4E0D\u6B63\u786E");return e},Y=async()=>{a.value=!0,s.value="\u5192\u9669\u4E2D...";try{const e=await f(),t=_();await(await e.adventure(t)).wait(),s.value=`${t.join(", ")} \u5192\u9669\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u5192\u9669\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"}a.value=!1},Z=async()=>{a.value=!0,s.value="\u653B\u51FB\u5730\u7262\u4E2D...";try{const e=await f(),t=_();await(await e.attackCellar(t)).wait(),s.value=`${t.join(", ")} \u653B\u51FB\u5730\u7262\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u653B\u51FB\u5730\u7262\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"}a.value=!1},tt=async()=>{a.value=!0,s.value="\u6388\u6743\u4E2D...";try{const e=await f(),t=_();await(await e.approveBatch(t)).wait(),s.value=`${t.join(", ")} \u6388\u6743\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u6388\u6743\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"}a.value=!1},et=async()=>{a.value=!0,s.value="\u5347\u7EA7\u4E2D...";try{const e=await f(),t=_();await(await e.levelUp(t)).wait(),s.value=`${t.join(", ")} \u5347\u7EA7\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u5347\u7EA7\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"}a.value=!1},at=async()=>{a.value=!0,s.value="\u9886\u91D1\u4E2D...";try{const e=await f(),t=_();await(await e.claim(t)).wait(),s.value=`${t.join(", ")} \u9886\u91D1\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u9886\u91D1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF0C\u662F\u5426\u5DF2\u6388\u6743\uFF1F"}a.value=!1},nt=async()=>{a.value=!0,s.value="\u8BBE\u7F6E\u5C5E\u6027\u4E2D...";try{const e=await f(),t=_(),[p,n,d,v,E,r]=X();await(await e.pointBuy(t,U.value,p,n,d,v,E,r)).wait(),s.value=`${t.join(", ")} \u8BBE\u7F6E\u5C5E\u6027\u5B8C\u6210`}catch(e){y.error(JSON.stringify(e)),s.value="\u8BBE\u7F6E\u5C5E\u6027\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF0C\u662F\u5426\u5DF2\u6388\u6743\uFF1F"}a.value=!1},st=async()=>{a.value=!0,s.value="\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u6750\u6599\u4E2D...";try{const e=await K(),t=_(),p=W();for(let n=0;n<t.length;n++)try{const d=await e.balanceOf(t[n]);if(d.eq(0)){s.value=`\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u6750\u6599\u4E2D\uFF1A${t[n]} \u65E0\u6750\u6599`;continue}s.value=`\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u6750\u6599\u4E2D\uFF1A\u4ECE${t[n]}\u8F6C\u79FB${d.toString()}\u6750\u6599`,await(await e.transfer(t[n],p,d.toString())).wait()}catch{s.value=`\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u6750\u6599\u4E2D\uFF1A${t[n]} \u8F6C\u79FB\u5931\u8D25`}s.value=`${t.join(", ")} \u8F6C\u6750\u6599\u7ED3\u675F`}catch(e){y.error(JSON.stringify(e)),s.value="\u8F6C\u6750\u6599\u5931\u8D25"}a.value=!1},ot=async()=>{a.value=!0,s.value="\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u91D1\u5E01\u4E2D...";try{const e=await Q(),t=_(),p=W();console.log("??");for(let n=0;n<t.length;n++)try{const d=await e.balanceOf(t[n]);if(console.log(d),d.eq(0)){y.info(`${t[n]} \u65E0\u91D1\u5E01`);continue}s.value=`\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u91D1\u5E01\u4E2D\uFF1A\u4ECE${t[n]}\u8F6C\u79FB${d.div(bt).toString()}\u91D1\u5E01`,await(await e.transfer(t[n],p,d.toString())).wait()}catch(d){console.log(d),s.value=`\uFF08\u8BF7\u52FF\u5237\u65B0\uFF09\u8F6C\u91D1\u5E01\u4E2D\uFF1A${t[n]} \u8F6C\u79FB\u5931\u8D25`}s.value=`${t.join(", ")} \u8F6C\u91D1\u5E01\u7ED3\u675F`}catch(e){y.error(JSON.stringify(e)),s.value="\u8F6C\u91D1\u5E01\u5931\u8D25"}a.value=!1},q=async e=>{try{h.value.action=!0;const p=await(await D.value.setApprovalForAll(w.BATCH,e)).wait();h.value.action=!1,y.success("\u6388\u6743\u6210\u529F"),await R()}catch(t){y.error(JSON.stringify(t))}};return(e,t)=>{const p=g("n-spin"),n=g("n-button"),d=g("n-tooltip"),v=g("n-input"),E=g("n-text");return b(),m("div",mt,[wt,gt,Ct,A.address?(b(),m("div",Tt,[h.value.approve?(b(),ut(p,{key:0,stroke:"#000"})):(b(),m(z,{key:1},[T.value?x("",!0):(b(),m(z,{key:0},[xt,i(n,{class:"btn-approve",loading:h.value.action,size:"large",color:"#000",onClick:t[0]||(t[0]=r=>q(!0))},{default:u(()=>[It]),_:1},8,["loading"])],64)),T.value?(b(),m("div",At,[kt,o("div",null,[i(n,{class:"btn-approve",ghost:"",size:"large",color:"#000",disabled:""},{default:u(()=>[St]),_:1}),i(n,{size:"large",onClick:t[1]||(t[1]=r=>q(!1))},{default:u(()=>[Nt]),_:1})])])):x("",!0)],64))])):x("",!0),A.address&&T.value?(b(),m("div",Mt,[i(d,{trigger:"hover"},{trigger:u(()=>[Ot]),default:u(()=>[Bt]),_:1}),o("div",$t,[o("a",jt,[i(n,null,{default:u(()=>[Ut]),_:1})]),o("a",Dt,[i(n,null,{default:u(()=>[Jt]),_:1})])]),Ft,o("div",Ht,[i(n,{class:"action-button",type:"primary",onClick:tt,disabled:a.value},{default:u(()=>[Rt]),_:1},8,["disabled"]),i(n,{class:"action-button",type:"primary",onClick:Y,disabled:a.value},{default:u(()=>[Et]),_:1},8,["disabled"]),i(n,{class:"action-button",type:"primary",onClick:Z,disabled:a.value},{default:u(()=>[Lt]),_:1},8,["disabled"]),i(n,{class:"action-button",type:"primary",onClick:et,disabled:a.value},{default:u(()=>[Gt]),_:1},8,["disabled"]),i(n,{class:"action-button",type:"primary",onClick:at,disabled:a.value},{default:u(()=>[Wt]),_:1},8,["disabled"])]),o("div",qt,[i(n,{class:"action-button",type:"primary",onClick:nt,disabled:a.value},{default:u(()=>[zt]),_:1},8,["disabled"]),i(d,{trigger:"hover"},{trigger:u(()=>[i(v,{class:"action-button",value:U.value,"onUpdate:value":t[2]||(t[2]=r=>U.value=r),placeholder:"\u82F1\u96C4\u7C7B\u578B ID",disabled:a.value},null,8,["value","disabled"])]),default:u(()=>[Pt,Vt,Kt,Qt,Xt,Yt,Zt,te,ee,ae,ne,se,oe,ie,le,re,ue,ce,de,pe,ve,ye]),_:1}),i(v,{class:"action-button",value:N.value,"onUpdate:value":t[3]||(t[3]=r=>N.value=r),placeholder:"strength",disabled:a.value},null,8,["value","disabled"]),i(v,{class:"action-button",value:M.value,"onUpdate:value":t[4]||(t[4]=r=>M.value=r),placeholder:"dexterity",disabled:a.value},null,8,["value","disabled"]),i(v,{class:"action-button",value:O.value,"onUpdate:value":t[5]||(t[5]=r=>O.value=r),placeholder:"constitution",disabled:a.value},null,8,["value","disabled"]),i(v,{class:"action-button",value:B.value,"onUpdate:value":t[6]||(t[6]=r=>B.value=r),placeholder:"intelligence",disabled:a.value},null,8,["value","disabled"]),i(v,{class:"action-button",value:$.value,"onUpdate:value":t[7]||(t[7]=r=>$.value=r),placeholder:"wisdom",disabled:a.value},null,8,["value","disabled"]),i(v,{class:"action-button",value:j.value,"onUpdate:value":t[8]||(t[8]=r=>j.value=r),placeholder:"charisma",disabled:a.value},null,8,["value","disabled"])]),o("div",_e,[i(n,{class:"action-button",type:"primary",onClick:st,disabled:a.value},{default:u(()=>[be]),_:1},8,["disabled"]),i(n,{class:"action-button",type:"primary",onClick:ot,disabled:a.value},{default:u(()=>[he]),_:1},8,["disabled"]),i(v,{class:"action-button",value:S.value,"onUpdate:value":t[9]||(t[9]=r=>S.value=r),placeholder:"\u6536\u8D27\u82F1\u96C4ID",disabled:a.value},null,8,["value","disabled"])]),i(E,{type:"info"},{default:u(()=>[l(pt(s.value),1)]),_:1}),i(v,{value:k.value,"onUpdate:value":t[10]||(t[10]=r=>k.value=r),type:"textarea",placeholder:"\u82F1\u96C4ID\u5217\u8868\uFF0C\u4E00\u884C\u4E00\u4E2A",disabled:a.value},null,8,["value","disabled"])])):x("",!0)])}}};typeof P=="function"&&P(V);V.__scopeId="data-v-072a92f3";export{V as default};
