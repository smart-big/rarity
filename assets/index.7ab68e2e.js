import{e,j as a,b as t,r as n,c as o,a as s,O as c,F as r,o as u,m as l,P as i,Q as d}from"./vendor.51ac6f80.js";import{W as w,J as v,C as h,a as f,N as g}from"./nft.cc790097.js";import{u as m}from"./index.53ed63b8.js";var p={};const y={class:"app"},k={class:"header"},b=s("div",null,null,-1),C={class:"wallet"},j=l(" Error Network "),N=l(" connect "),_={expose:[],setup(p){const _=e(""),x=e(!1);e(!1);const z=e({account:!1,approve:!1,action:!1}),F=e(),T=m(),A=window.ethereum?new w(window.ethereum):new v("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161");a((()=>{const e=async()=>{await(async()=>{z.value.account=!0;try{const e=await A.getSigner(),a=await e.getAddress();F.value=new h(f.NFT,g,e),_.value=a,z.value.account=!1}catch(e){z.value.account=!1}})()};window.ethereum&&(window.ethereum.on("connect",(()=>{e()})),window.ethereum.on("disconnect",(()=>{_.value=""})),window.ethereum.on("accountsChanged",(()=>{e()})),window.ethereum.on("networkChanged",(async a=>{M(a),await e()}))),M(),e()}));const I=async()=>{await A.send("eth_requestAccounts",[])},M=async e=>{console.log(e);const a=e||(await A.getNetwork()).chainId;console.log("chainId",a),250!=a?(x.value=!0,T.error("Please Wwitch To FTM Mainnet")):x.value=!1},P=t((()=>(e=>e.substr(0,5)+"*******"+e.substr(-4))(_.value)));return(e,a)=>{const t=n("n-button"),w=n("router-view");return u(),o("div",y,[s("div",null,[s("div",k,[b,s("div",C,[x.value?(u(),o(t,{key:0,type:"error",size:"large"},{default:c((()=>[j])),_:1})):(u(),o(r,{key:1},[_.value?(u(),o(t,{key:1,ghost:"",size:"large",color:"#000",loading:z.value.account},{default:c((()=>[l(i(d(P)),1)])),_:1},8,["loading"])):(u(),o(t,{key:0,ghost:"",size:"large",color:"#000",onClick:I},{default:c((()=>[N])),_:1}))],64))])])]),s(w,{address:_.value,nftContract:F.value},null,8,["address","nftContract"])])}}};"function"==typeof p&&p(_);export{_ as default};
